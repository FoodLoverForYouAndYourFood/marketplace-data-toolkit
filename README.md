# ?????????? ?? ??????? (Ozon + WB)

??????? ??????????: ?????? ??? ?????? ?????? (Ozon ? WB) ? ????????? ??????? ????? ? CSV ? XLSX.

## ??? ?????
1) Windows ? ????????????? Python 3.11+
2) ???????????:
   - pip install -r requirements.txt
   - python -m playwright install chromium
3) Google Chrome, ??? ?? ??? ?????????? ? Ozon (????? ?????? ???? ? Ozon ??????). ???????? Chrome ????? ????????.

## ???? ????????? ??????
- data/links/links_oz.txt ? ?????? Ozon, ?? ????? ? ??????.
- data/links/links_wb.txt ? ?????? WB, ?? ????? ? ??????.
?????? ?????? ????????? ?? ???????: ?????? ?????? Ozon = ?????? ?????? WB ? ?.?. ????? ??????? # ??? ????????????.

## ??? ?????????
???????? PowerShell ? ????? ???????:

cd C:\Users\FoodLover\Documents\PetProjects\Parser_exe

????????? ??????? (??? ????????????? ????????? ???? ? ??????? ? ????????):

python src/paired_price_export.py ^
  --oz-links data/links/links_oz.txt ^
  --wb-links data/links/links_wb.txt ^
  --profile-dir "C:\Users\FoodLover\AppData\Local\Google\Chrome\User Data\Default" ^
  --browser-path "C:\Program Files\Google\Chrome\Application\chrome.exe" ^
  --skip-html

??? ?????:
- --profile-dir ? ????? ??????? Chrome, ??? ???? ???? ? Ozon.
- --browser-path ? ???? ?? chrome.exe.
- --skip-html ? ?? ????????? HTML (????? ??????, ???? ????? ????????).

## ?????????
? output/ ???????? ????? paired_prices_<????>.csv ? paired_prices_<????>.xlsx.
??????? ? ??????:
- name ? ????????
- ozon_url, wb_url ? ???????? ??????
- price_ozon_card ? ???? ? Ozon ??????
- price_wb ? ???? WB
- wb_article ? ??????? WB
- parsed_at ? ????? ????????

## ???? ?? ????????? Ozon
1) ?????????: python -m playwright open --browser=chromium --user-data-dir output/playwright_profile https://www.ozon.ru/
2) ???????????? ???????, ???????? ????.
3) ????????? ???????? ???????, ?????? --profile-dir output/playwright_profile.

## ??????????? ????? ??????
- src/paired_price_export.py, src/ozon_playwright_fetch.py, src/github_pipeline.py, src/marketplace_parser.py
- data/links/links_oz.txt, data/links/links_wb.txt
- data/cookies/*.example.json (???????, ???? ???????? ???????????? cookies)
- output/ ? ???? ??????? ?????????.
